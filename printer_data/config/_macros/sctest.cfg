#    {% set tool = printer.toolchanger.tool %}
#      {% if tool %}
#         {% set tool_z_offset = printer[tool].gcode_z_offset %}
#         {% set probe_z_offset = printer.tool_probe_endstop.active_tool_probe_z_offset %}
#         SET_KINEMATIC_POSITION Z={10.0+tool_z_offset|float+probe_z_offset|float}
[gcode_macro hallo]

gcode:
        INITIALIZE_TOOLCHANGER
        G4 S1
        {% set toolh = printer.toolhead.extruder %}
        {% set tool = printer.toolchanger.tool %}
        {% set tool_e = printer[tool].extruder %}
        {% set tool_n = printer[tool].tool_number %}
        M117 > {toolh}{tool}{tool_e}{tool_n}
        
#       SET_TOOL_TEMPERATURE T=0 TARGET=70

#        TEMPERATURE_WAIT SENSOR={tool} MINIMUM=60 MAXIMUM=80             #wait for preheat extruder temp